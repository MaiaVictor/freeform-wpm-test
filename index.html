<html>
  <head>
  <script>
    var start_time = null;
    window.onload = function() {
      var wpm = document.getElementById("wpm");
      var text = document.getElementById("text");
      var reset = document.getElementById("reset");

      text.oninput = () => {
        if (start_time === null) {
          start_time = Date.now();
        }
        var words = text.value.length / 5;
        var time = (Date.now() - start_time) / 1000;
        console.log(words, time);
        var spd = Math.floor(words / time * 60);
        wpm.innerText = "WPM: " + spd;
      }

      reset.onclick = () => {
        start_time = null;
        wpm.innerText = "WPM: 0";
        text.value = "";
      }
    }
  </script>
  </head>
  <body>
    <div id="wpm">WPM: 0</div>

    <textarea id="text" style="width:100%; height:300px"></textarea>

    <button id="reset">RESET</button>

    <div>
      This is a freeform WPM test. Type anything and it will tell you your typing speeds in words per minute. One of the biggest problems with typing tests is that they aren't testing just how fast you type, bust how fast you read. Moreover, they have the super annoying problem of losing alignment when you make a mistake such as skipping a letter, or typing an extra letter, which causes every subsequent character to be incorrect. In most real world cases, you'll be typing out of your mind. This test more accurately reflects your real-world typing speeds.
    </div>
  </body>
</html>
